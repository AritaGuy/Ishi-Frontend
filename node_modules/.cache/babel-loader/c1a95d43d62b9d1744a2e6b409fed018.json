{"ast":null,"code":"import _slicedToArray from\"/home/moringa/Development/code/phase_2/Ishi-React/ishi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"../index.css\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RoomDetails(){var roomDB=\"https://ishi-react.herokuapp.com/rooms\";var _useState=useState({}),_useState2=_slicedToArray(_useState,2),room=_useState2[0],setRoom=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];var params=useParams();console.log(params);useEffect(function(){fetch(\"\".concat(roomDB,\"/\").concat(params.roomId)).then(function(r){return r.json();}).then(function(data){return setRoom(data);});},[]);console.log(room);function handleChange(e){setInput({'paymenttoken':e.target.value});}function handleSubmit(e){e.preventDefault();fetch(\"\".concat(roomDB,\"/\").concat(params.roomId),{method:'PATCH',headers:{'Content-Type':'application/JSON'},body:JSON.stringify({input:input})});alert(\"Congratulations you have successfully booked \".concat(room.description));}return/*#__PURE__*/_jsxs(\"div\",{id:\"selected-room\",children:[/*#__PURE__*/_jsx(\"img\",{src:room.image,alt:\"selected room\"}),/*#__PURE__*/_jsx(\"p\",{id:\"desc\",children:room.description}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputPassword1\",class:\"form-label\",children:\"Payment Token\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"exampleInputPassword1\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-primary\",children:\"Submit\"})]})]});}export default RoomDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","RoomDetails","roomDB","room","setRoom","input","setInput","params","console","log","fetch","roomId","then","r","json","data","handleChange","e","target","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","alert","description","image"],"sources":["/home/moringa/Development/code/phase_2/Ishi-React/ishi/src/components/RoomDetails.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport \"../index.css\"\nimport {useParams} from \"react-router-dom\"\n \nfunction RoomDetails(){\n  const roomDB = \"https://ishi-react.herokuapp.com/rooms\"\n  const [room, setRoom]=useState({})\n  const [input, setInput]=useState('')\n  let params = useParams()\n  console.log(params)\n  useEffect(()=> {\n   fetch(`${roomDB}/${params.roomId}`)\n  .then((r)=>r.json())\n  .then((data)=>setRoom(data))}, [])\n  \n  console.log(room)\n  function handleChange(e){\n    setInput({'paymenttoken':e.target.value})\n  }\n  function handleSubmit(e){\n    e.preventDefault()\n    fetch(`${roomDB}/${params.roomId}`,{\n     method :'PATCH',\n     headers : {\n      'Content-Type':'application/JSON'\n     },\n     body : JSON.stringify({input}) \n    })\n    alert(`Congratulations you have successfully booked ${room.description}`)\n  }\n return(\n    <div id=\"selected-room\">\n    <img src={room.image} alt=\"selected room\"/>\n    <p id=\"desc\">{room.description}</p>\n    <form onSubmit={handleSubmit}>\n    <div class=\"mb-3\">\n    <label for=\"exampleInputPassword1\" class=\"form-label\">Payment Token</label>\n    <input type=\"text\" class=\"form-control\" id=\"exampleInputPassword1\" onChange={handleChange}/>\n    </div>\n     <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n    </form>    \n    </div>\n  )\n }\n\n export default RoomDetails\n"],"mappings":"4IAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAO,cAAP,CACA,OAAQC,SAAR,KAAwB,kBAAxB,C,wFAEA,QAASC,YAAT,EAAsB,CACpB,GAAMC,OAAM,CAAG,wCAAf,CACA,cAAsBH,QAAQ,CAAC,EAAD,CAA9B,wCAAOI,IAAP,eAAaC,OAAb,eACA,eAAwBL,QAAQ,CAAC,EAAD,CAAhC,yCAAOM,KAAP,eAAcC,QAAd,eACA,GAAIC,OAAM,CAAGP,SAAS,EAAtB,CACAQ,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACAT,SAAS,CAAC,UAAK,CACdY,KAAK,WAAIR,MAAJ,aAAcK,MAAM,CAACI,MAArB,EAAL,CACAC,IADA,CACK,SAACC,CAAD,QAAKA,EAAC,CAACC,IAAF,EAAL,EADL,EAEAF,IAFA,CAEK,SAACG,IAAD,QAAQX,QAAO,CAACW,IAAD,CAAf,EAFL,EAE4B,CAHpB,CAGsB,EAHtB,CAAT,CAKAP,OAAO,CAACC,GAAR,CAAYN,IAAZ,EACA,QAASa,aAAT,CAAsBC,CAAtB,CAAwB,CACtBX,QAAQ,CAAC,CAAC,eAAeW,CAAC,CAACC,MAAF,CAASC,KAAzB,CAAD,CAAR,CACD,CACD,QAASC,aAAT,CAAsBH,CAAtB,CAAwB,CACtBA,CAAC,CAACI,cAAF,GACAX,KAAK,WAAIR,MAAJ,aAAcK,MAAM,CAACI,MAArB,EAA8B,CAClCW,MAAM,CAAE,OAD0B,CAElCC,OAAO,CAAG,CACT,eAAe,kBADN,CAFwB,CAKlCC,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAe,CAACrB,KAAK,CAALA,KAAD,CAAf,CAL2B,CAA9B,CAAL,CAOAsB,KAAK,wDAAiDxB,IAAI,CAACyB,WAAtD,EAAL,CACD,CACF,mBACG,aAAK,EAAE,CAAC,eAAR,wBACA,YAAK,GAAG,CAAEzB,IAAI,CAAC0B,KAAf,CAAsB,GAAG,CAAC,eAA1B,EADA,cAEA,UAAG,EAAE,CAAC,MAAN,UAAc1B,IAAI,CAACyB,WAAnB,EAFA,cAGA,cAAM,QAAQ,CAAER,YAAhB,wBACA,aAAK,KAAK,CAAC,MAAX,wBACA,cAAO,GAAG,CAAC,uBAAX,CAAmC,KAAK,CAAC,YAAzC,2BADA,cAEA,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,cAAzB,CAAwC,EAAE,CAAC,uBAA3C,CAAmE,QAAQ,CAAEJ,YAA7E,EAFA,GADA,cAKC,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,oBALD,GAHA,GADH,CAaC,CAED,cAAef,YAAf"},"metadata":{},"sourceType":"module"}